<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Community · OpenConstruction</title>

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- Leaflet core -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" crossorigin="anonymous">

  <style>
    :root{
      --oc-bg:#ffffff; --oc-text:#1e2a36; --oc-subtle:#6b7b8c; --oc-border:#e7edf3;
      --oc-ink:#0f2e4b; --oc-accent:#f2a238; --oc-link:#0b66c3;
      --oc-card:#ffffff; --oc-shadow:0 8px 24px rgba(15,46,75,.06);
      --oc-radius:14px; --oc-muted:#f6f9fc; --oc-focus:#86b7fe;
    }
    html,body{ background:var(--oc-bg); color:var(--oc-text); }
    a{ color:var(--oc-link); text-decoration:none; }
    .oc-container{ max-width:1080px; }

    .hl{ background:linear-gradient(180deg,transparent 60%,rgba(242,162,56,.25) 0);
      padding:0 .06em; font-weight:700; }

    .oc-nav{ backdrop-filter:saturate(120%) blur(6px); border-bottom:1px solid var(--oc-border)!important; }
    .brand-wordmark{ display:inline-flex; gap:.25rem; align-items:baseline;
      color:var(--oc-ink); font-weight:800; letter-spacing:.1px;
      font-size:clamp(1.1rem,1rem + .6vw,1.4rem);}
    .brand-wordmark .oc-open{ font-weight:700; opacity:.95; }
    .brand-wordmark .oc-sep{ opacity:.35; margin:0 .15rem; }
    .oc-logo{ height:44px; width:44px; }

    .navbar .nav-link.plain{ font-weight:700; color:var(--oc-text); padding:.5rem .6rem; }
    .navbar .nav-link.plain:hover,
    .navbar .nav-link.plain.active{ color:var(--oc-ink); text-decoration:underline; text-underline-offset:3px; }

    .hero{ background:#fff; color:var(--oc-ink); border-bottom:1px solid var(--oc-border); }
    .hero .content{ padding:56px 0 44px; text-align:center; }
    .hero h1{ font-weight:800; letter-spacing:.2px; line-height:1.12;
      font-size:clamp(1.6rem,1.1rem + 2.2vw,2.2rem); margin:.25rem 0 .35rem; }
    .hero p.lead{ max-width:70ch; margin:0 auto; color:var(--oc-subtle); }

    .cta-row{ display:flex; gap:.8rem; justify-content:center; flex-wrap:wrap; margin-top:1rem; }
    .btn-ink{ background:var(--oc-ink); color:#fff; border:1px solid var(--oc-ink); border-radius:999px;
      padding:.55rem 1rem; font-weight:700; text-decoration:none; }
    .btn-ink:hover{ filter:brightness(1.05); color:#fff; }
    .btn-accent{ background:#fff; color:var(--oc-ink); border:1px solid var(--oc-ink); border-radius:999px;
      padding:.55rem 1rem; font-weight:700; text-decoration:none; }
    .btn-accent:hover{ background:#f7fbff; }

    .oc-section{ margin-top:34px; }
    .oc-kicker{ font-size:.8rem; letter-spacing:.18em; text-transform:uppercase; color:var(--oc-subtle); }
    .oc-card{ background:var(--oc-card); border:1px solid var(--oc-border); border-radius:var(--oc-radius); box-shadow:var(--oc-shadow); }
    .oc-card-body{ padding:1.25rem; }
    .oc-card .oc-card-title{ font-weight:700; color:var(--oc-ink); }

    .person-card{ transition:transform .12s ease; }
    .person-card:hover{ transform:translateY(-1px); }
    .headshot{ width:86px; height:86px; object-fit:cover; border-radius:50%;
      border:2px solid rgba(0,0,0,.03); box-shadow:0 4px 12px rgba(0,0,0,.06); flex:0 0 auto; }
    .person-card .card-title{ margin-bottom:.15rem; font-weight:700; }
    .person-card .role{ font-size:.82rem; color:var(--oc-subtle); margin-bottom:.15rem; }
    .person-card .affil{ font-size:.92rem; }

    .logo-wall{ display:grid; gap:22px; align-items:center; justify-items:center;
      grid-template-columns:repeat(auto-fit,minmax(140px,1fr));
      padding:8px 6px; border:1px solid var(--oc-border); border-radius:var(--oc-radius); background:#fff;}
    .logo-wall img{ max-height:60px; width:auto; display:block; object-fit:contain; filter:grayscale(8%);
      transition:transform .16s ease;}
    .logo-wall img:hover{ transform:scale(1.03); }

    #visitorMap{ height:360px; border-radius:12px; border:1px solid var(--oc-border); box-shadow:var(--oc-shadow); }

    /* Community metrics (same style as Home) */
    .metrics{ display:flex; gap:1.4rem; justify-content:center; align-items:center;
      flex-wrap:wrap; margin:1.15rem 0 .25rem;}
    .metric{ display:flex; align-items:center; gap:1rem; }
    .metric svg{ width:120px; height:120px; filter:drop-shadow(0 4px 10px rgba(15,46,75,.08)); }
    .metric .ring-bg{ stroke:#e7edf3; stroke-width:4; }
    .metric .ring-val{ stroke:var(--oc-accent); stroke-width:4; stroke-linecap:round;
      stroke-dasharray:0 999; stroke-dashoffset:0; }
    .ring-ready .ring-val{ transition:stroke-dashoffset .9s ease; }
    .metric .label{ display:flex; flex-direction:column; line-height:1.05; }
    .metric .value{ font-weight:800; color:var(--oc-ink); font-size:1.28rem; }
    .metric .name{ font-size:.78rem; color:var(--oc-subtle); letter-spacing:.12em; text-transform:uppercase; }

    @media (max-width:991.98px){
      .navbar-brand .brand-wordmark{ font-size:1.15rem; }
      .hero .content{ padding:40px 0 32px; }
    }
  </style>
</head>
<body>

<!-- Navbar -->
<nav class="navbar navbar-expand-lg bg-white sticky-top oc-nav">
  <div class="container oc-container">
    <a class="navbar-brand d-flex align-items-center gap-2" href="index.html">
      <img src="assets/img/icon.png" alt="OpenConstruction logo" class="oc-logo">
      <span class="brand-wordmark"><span class="oc-open">Open</span><span class="oc-sep">·</span><span class="oc-construction">Construction</span></span>
    </a>
  </div>
</nav>

<!-- Hero -->
<header class="hero">
  <div class="container oc-container content">
    <h1>Community &amp; Collaboration</h1>
    <p class="lead">Together, we’re building an <span class="hl">open-science</span> community for <span class="hl">AI in construction</span>, connecting researchers, practitioners, and innovators to share knowledge.</p>

    <div class="cta-row">
      <a class="btn-ink btn-sm" href="https://github.com/ruoxinx/OpenConstruction-Datasets/issues/new?template=new_dataset.yml" target="_blank" rel="noopener">Submit a Dataset</a>
      <a class="btn-accent btn-sm" href="https://github.com/ruoxinx/OpenConstruction-Models/issues/new?template=new_model.yml" target="_blank" rel="noopener">Submit a Model</a>
      <a class="btn-ink btn-sm" href="https://github.com/ruoxinx/OpenConstruction-Datasets/issues/new?template=suggestion.yml" target="_blank" rel="noopener">Join Discussions</a>
    </div>

    <!-- Community metrics -->
    <div class="metrics" id="communityMetrics" role="group" aria-label="Community statistics">
      <div class="metric" data-kind="contributors">
        <svg viewBox="0 0 44 44"><circle class="ring-bg" cx="22" cy="22" r="17"></circle>
          <circle class="ring-val" id="ringContrib" cx="22" cy="22" r="17" transform="rotate(-90 22 22)"></circle>
          <g transform="translate(13,13)" fill="none" stroke="currentColor" stroke-width="1.2">
            <circle cx="9" cy="9" r="3"/>
            <path d="M9 0v3M9 15v3M0 9h3M15 9h3M2.5 2.5l2 2M15.5 15.5l2 2M15.5 2.5l-2 2M2.5 15.5l-2 2"/>
          </g>
        </svg>
        <span class="label"><span class="value" id="countContrib">—</span><span class="name">Contributors</span></span>
      </div>
      <div class="metric" data-kind="institutions">
        <svg viewBox="0 0 44 44"><circle class="ring-bg" cx="22" cy="22" r="17"></circle>
          <circle class="ring-val" id="ringInst" cx="22" cy="22" r="17" transform="rotate(-90 22 22)"></circle>
          <g transform="translate(15,15)" fill="none" stroke="currentColor" stroke-width="1.2">
            <rect x="0" y="0" width="6" height="6" rx="1"/>
            <rect x="9" y="0" width="6" height="6" rx="1"/>
            <rect x="4.5" y="9" width="6" height="6" rx="1"/>
          </g>
        </svg>
        <span class="label"><span class="value" id="countInst">—</span><span class="name">Institutions</span></span>
      </div>
    </div>
  </div>
</header>

<main class="container oc-container">
  <!-- Your team, contributors, affiliations, etc. -->
</main>

<footer class="py-4 mt-3 border-top">
  <div class="container oc-container small text-muted text-center">
    © <span id="yearNow"></span> OpenConstruction
  </div>
</footer>

<script>document.getElementById('yearNow').textContent=new Date().getFullYear();</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

<!-- Circles script -->
<script>
(function(){
  const metricsWrap=document.getElementById('communityMetrics');
  if(!metricsWrap) return;
  const countContribEl=document.getElementById('countContrib');
  const countInstEl=document.getElementById('countInst');
  const ringContrib=document.getElementById('ringContrib');
  const ringInst=document.getElementById('ringInst');
  const R=17,CIRC=2*Math.PI*R;
  [ringContrib,ringInst].forEach(r=>{if(r){r.style.strokeDasharray=`${CIRC}`;r.style.strokeDashoffset=`${CIRC}`;}});
  const ease=t=>1-Math.pow(1-t,3);
  function countUp(el,to,dur=900){const start=performance.now();function step(now){const t=Math.min(1,(now-start)/dur);el.textContent=Math.round(to*ease(t));if(t<1) requestAnimationFrame(step);}requestAnimationFrame(step);}
  function measure(){return{contributors:document.querySelectorAll('.person-card').length,institutions:document.querySelectorAll('.logo-wall img').length};}
  function setRings(o){if(ringContrib) ringContrib.style.strokeDashoffset=o;if(ringInst) ringInst.style.strokeDashoffset=o;}
  function playRings(){document.body.classList.add('ring-ready');requestAnimationFrame(()=>setRings(0));}
  const io=new IntersectionObserver(entries=>{entries.forEach(e=>{if(e.target!==metricsWrap) return;if(e.isIntersecting){const{contributors,institutions}=measure();countUp(countContribEl,contributors);countUp(countInstEl,institutions);playRings();}else{setRings(CIRC);}});},{threshold:.35});io.observe(metricsWrap);
})();
</script>
</body>
</html>
