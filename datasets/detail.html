<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Dataset Details</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="../assets/css/style.css">

  <style>
    /* ---- Design tokens (light only) ---- */
    :root{
      --oc-bg:#fff; --oc-text:#1e2a36; --oc-sub:#6b7b8c;
      --oc-border:#e7edf3; --oc-ink:#0f2e4b; --oc-link:#0b66c3;
      --oc-card:#fff; --oc-shadow:0 8px 24px rgba(15,46,75,.06);
      --oc-radius:14px; --oc-success:#16a34a; --oc-accent:#f2a238;
      --oc-muted:#f7f9fc;
    }

    html,body{height:100%; background:var(--oc-bg); color:var(--oc-text); margin:0;}
    body{display:flex; flex-direction:column; min-height:100vh;}
    main{flex:1 0 auto;}
    a{color:var(--oc-link)}
    .oc-container{max-width:1320px}

    /* ---- Navbar polish ---- */
    .oc-nav{backdrop-filter:saturate(120%) blur(6px)}
    .brand-wordmark{display:inline-flex;gap:.25rem;align-items:baseline;color:#0F2E4B;font-weight:700;letter-spacing:.1px;font-size:clamp(1.1rem,1.1rem + .4vw,1.35rem)}
    .brand-wordmark .oc-open{font-weight:600;opacity:.95}
    .brand-wordmark .oc-sep{opacity:.35;margin:0 .15rem}
    .brand-wordmark .oc-construction{font-weight:800;letter-spacing:.15px}
    .oc-logo{height:44px;width:44px}

    .navbar .nav-link.plain{font-weight:700;color:var(--oc-text);padding:.5rem .6rem;}
    .navbar .nav-link.plain:hover,
    .navbar .nav-link.plain.active{color:var(--oc-ink);text-decoration:underline;text-underline-offset:3px}

    .oc-btn{border-radius:999px;border-color:#d6dde6;color:#24384d}
    .oc-btn:hover{background:#f4f7fb;border-color:#cbd6e3;color:#0f2e4b}
    .oc-cta{border-radius:999px;box-shadow:0 4px 10px rgba(16,185,129,.15)}
    .oc-cta:hover{box-shadow:0 6px 14px rgba(16,185,129,.22);transform:translateY(-1px)}
    .nav-link.icon-only{line-height:1; padding-top:.375rem; padding-bottom:.375rem;}
    .nav-link.icon-only svg{display:block; width:20px; height:20px; color:inherit; opacity:.9}
    .nav-link.icon-only:hover svg{opacity:1}

    /* ---- Page header ---- */
    .page-head{border-bottom:1px solid var(--oc-border); background:#fff;}
    .page-head .content{padding:24px 0}
    .breadcrumb{--bs-breadcrumb-divider: "›"}
    .breadcrumb .breadcrumb-item a{ text-decoration:none }

    /* ---- Badges ---- */
    .oc-badge{padding:0; border:0; background:transparent; border-radius:0;}
    .oc-badge > .badge{
      margin-right:.5rem;
      margin-bottom:.25rem;
      background:var(--oc-muted);
      border:1px solid var(--oc-border);
      font-weight:600;
      font-size:.78rem;
      color:var(--oc-text);
    }
    .oc-badge > .badge:last-child{margin-right:0;}

    /* ---- Loading skeleton ---- */
    .skeleton{position:relative;overflow:hidden;background:var(--oc-muted);border-radius:10px;min-height:140px}
    .skeleton::after{
      content:""; position:absolute; inset:0;
      background:linear-gradient(90deg, transparent, rgba(255,255,255,.5), transparent);
      transform:translateX(-100%); animation:shimmer 1.1s infinite;
      mix-blend-mode: overlay; pointer-events:none;
    }
    @keyframes shimmer{to{transform:translateX(100%)}}

    /* ---- Floating Suggestion Button ---- */
    .issue-btn {
      position: fixed;
      bottom: 20px;
      right: 20px;
      z-index: 1050;
      background: #0d6efd;
      color: #fff;
      padding: 12px 20px;
      border-radius: 999px;
      font-weight: 600;
      font-size: .9rem;
      box-shadow: 0 4px 12px rgba(0,0,0,.25);
      text-decoration: none;
      transition: background .2s ease, transform .2s ease;
    }
    .issue-btn:hover {
      background: #0b5ed7;
      transform: translateY(-2px);
      color: #fff;
      text-decoration: none;
    }
  </style>
</head>
<body>

<!-- Navbar -->
<nav class="navbar navbar-expand-lg bg-white border-bottom sticky-top oc-nav">
  <div class="container-xxl oc-container">
    <a class="navbar-brand d-flex align-items-center gap-2" href="../index.html">
      <img src="../assets/img/icon.png" alt="OpenConstruction logo" class="oc-logo">
      <span class="brand-wordmark">
        <span class="oc-open">Open</span><span class="oc-sep">·</span><span class="oc-construction">Construction</span>
      </span>
    </a>
    <button class="navbar-toggler ms-2" type="button" data-bs-toggle="collapse" data-bs-target="#navbarsExample" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarsExample">
      <ul class="navbar-nav ms-auto align-items-lg-center gap-2">
        <li class="nav-item"><a class="nav-link plain" href="../index.html">Home</a></li>
		<li class="nav-item"><a class="nav-link plain" href="../dataset.html">Datasets</a></li>
        <li class="nav-item"><a class="nav-link plain" href="../models.html" aria-current="page">Models</a></li>
		<li class="nav-item"><a class="nav-link plain" href="../contributors.html">Community</a></li>
        <li class="nav-item">
          <a class="btn btn-success btn-sm oc-cta"
             href="https://github.com/ruoxinx/OpenConstruction-Datasets/issues/new?template=new_dataset.yml"
             target="_blank" rel="noopener"> + New Dataset</a>
        </li>
        <li class="nav-item">
          <a class="nav-link px-2 icon-only"
             href="https://github.com/ruoxinx/OpenConstruction-Datasets"
             target="_blank" rel="noopener"
             aria-label="OpenConstruction Datasets on GitHub"
             title="View on GitHub">
            <!-- GitHub SVG -->
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20"
                 fill="currentColor" viewBox="0 0 16 16" aria-hidden="true" focusable="false">
              <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 
                       2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 
                       0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52
                       0-.53.63-.01 1.08.58 1.23.82.72 1.21 
                       1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 
                       0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 
                       0 0 .67-.21 2.2.82a7.65 7.65 0 0 1 2-.27c.68 0 
                       1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 
                       1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 
                       0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 
                       1.48 0 1.07-.01 1.93-.01 2.19 0 .21.15.46.55.38A8.013 
                       8.013 0 0 0 16 8c0-4.42-3.58-8-8-8"/>
            </svg>
          </a>
        </li>
      </ul>
    </div>
  </div>
</nav>

<!-- Page header -->
<header class="page-head">
  <div class="container-xxl oc-container content">
    <nav aria-label="breadcrumb">
      <ol class="breadcrumb mb-2">
        <li class="breadcrumb-item"><a href="../index.html">Catalog</a></li>
        <li class="breadcrumb-item active" aria-current="page">Dataset</li>
      </ol>
    </nav>
    <div class="d-flex gap-2 flex-wrap align-items-center">
      <a href="../index.html" class="btn btn-soft btn-sm">← Back to catalog</a>
      <span id="badge-modality" class="oc-badge" hidden></span>
      <span id="badge-tasks" class="oc-badge" hidden></span>
      <span id="badge-license" class="oc-badge" hidden></span>
    </div>
  </div>
</header>

<!-- Main -->
<main class="container-xxl oc-container py-4">
  <div id="loading" class="skeleton mb-3"></div>
  <div id="detailRoot" class="mt-2"></div>
</main>

<!-- Footer -->
<footer class="border-top py-4">
  <div class="container-xxl oc-container small text-muted d-flex flex-column align-items-center">
    <div class="d-flex align-items-center gap-2 mb-2">
      <span>© <span id="yearNow"></span> OpenConstruction</span>
    </div>
  </div>
</footer>

<!-- Floating button -->
<a href="https://github.com/ruoxinx/OpenConstruction-Datasets/issues/new?template=suggestion.yml"
   class="issue-btn" target="_blank" rel="noopener">
  Issue or Suggestion?
</a>

<!-- Scripts -->
<script>document.getElementById('yearNow').textContent = new Date().getFullYear();</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://unpkg.com/@supabase/supabase-js@2"></script>
<script src="../assets/js/config.js"></script>
<script src="../assets/js/app.js"></script>

<!-- Badge helpers -->
<script>
(function(){
  function tokenize(val){
    if (!val && val !== 0) return [];
    if (Array.isArray(val)) return val.map(String);
    const s = String(val);
    return s.includes(',') ? s.split(',').map(t=>t.trim()).filter(Boolean)
                           : [s.trim()].filter(Boolean);
  }

  function pills(values, limit = Infinity){
    const arr = tokenize(values);
    if (!arr.length) return "";
    const shown = arr.slice(0, limit)
      .map(t => `<span class="badge rounded-pill">${t}</span>`)
      .join("");
    const more = arr.length > limit
      ? `<span class="badge rounded-pill">+${arr.length - limit} more</span>`
      : "";
    return shown + more;
  }

  function putAsPills(id, values, limit){
    const host = document.getElementById(id);
    if (!host) return;
    const html = pills(values, limit);
    if (html){
      host.innerHTML = html;
      host.hidden = false;
    } else {
      host.hidden = true;
    }
  }

  window.OC = {
    setBadges({modality, tasks, license} = {}){
      putAsPills('badge-modality', modality, 2);
      putAsPills('badge-tasks', tasks, 4);
      putAsPills('badge-license', license, 1);
    },
    clearSkeleton(){
      const sk = document.getElementById('loading');
      if (sk) sk.remove();
    }
  };
})();
</script>

<script src="../assets/js/detail.js" defer></script>
</body>
</html>
